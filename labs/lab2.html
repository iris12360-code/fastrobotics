<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MAE 4190 â€“ Lab 1</title>

  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .content {
      max-width: 800px;
      margin: 60px auto;
      padding: 0 20px;
    }

    h1 { font-size: 2.2em; }
    h2 { font-size: 1.6em; margin-top: 40px; }
    h3 { font-size: 1.3em; margin-top: 20px; }
    p  { line-height: 1.6; }

    img {
      display: block;
      margin: 20px auto;
      max-width: 100%;
    }

    .code-block {
  margin: 30px 0;
}

.code-header {
  background-color: #eaeaea;
  padding: 6px 12px;
  font-size: 0.9em;
  font-family: monospace;
  border-radius: 6px 6px 0 0;
}

.code-header span {
  font-weight: bold;
}

.code-block pre {
  margin: 0;
  background-color: #f5f5f5;
  padding: 16px;
  overflow-x: auto;
  border-radius: 0 0 6px 6px;
}

code {
  font-family: Consolas, Monaco, monospace;
  font-size: 0.95em;
}

  </style>
</head>

<body>
    <div class="content">

    <h1>Lab 2: Artemis + Bluetooth </h1>

    <h2> Set up the IMU </h2>

  <img src="../images/lab2/IMU_setup.jpg" alt="IMU connections" width="350">
  <p>I wrote code to alternatively light up the LED twice to mark the starting.
   It lights up first when the connection works at the beginning, so the video includes
    three flashes.</p>
  
    <div class="code-block">
  <div class="code-header">File: lab2.ino</div>
  <pre><code>
  // LED light up two times with an interval of two seconds
  digitalWrite(LED_BUILTIN, HIGH);
  delay(1000);
  digitalWrite(LED_BUILTIN, LOW);
  delay(2000);
  digitalWrite(LED_BUILTIN, HIGH);
  delay(1000);
  digitalWrite(LED_BUILTIN, LOW);
  </code></pre>
  </div>
  <a href="https://youtube.com/shorts/_lV_BpnmZKY?si=g9R65DuorTzkpHvX" target="_blank">
  Watch the video of flashing light indicating example code works on IMU</a>
  
  <p>AD0_VAL definition discussion: AD0_VAL represents a constant reflecting the state
     of an ADR jumper. When the ADR 
  jumper is open, AD0_VAL should be 1. While the ADR jumper is closed, AD0_VAL should 
  be 0. It should be 1 now as the ADR jumper is not soldered. If the ADR jumper is soldered,
   it can enable multiple sensors to be on the same I2C bus. 
</p>

<img src="../images/lab2/X_axis_rotation.jpg" alt="IMU connections" width="450">
<img src="../images/lab2/Y_axis_flip.jpg" alt="IMU connections" width="450">
<img src="../images/lab2/X_axis_speedup.jpg" alt="IMU connections" width="450">
<p>
Picture above in order demonstrate rotation along X axis, flip along Y axis,
 and speedup along X axis. 
</p>

    <h2>Accelerometer </h2>
<img src="../images/lab2/roll_rawdata.png" alt="IMU connections" width="550">
<img src="../images/lab2/pitch_rawdata.png" alt="IMU connections" width="550">

    <div class="code-block">
  <div class="code-header">File: lab2.ino</div>
  <pre><code>
    //Calculation of angles of Pitch/Roll in degrees 
    acc_roll = atan2(ay, az) * 180.0 / M_PI;
    acc_pitch = atan2(-ax, sqrt(ay*ay + az*az)) * 180.0 / M_PI;
  </code></pre>
  </div>

  <p>
I directly used data point from output of pitch and roll to conduct the two-point calibration:<br>
Average Pitch Degrees in negative direction: -86.23 degrees<br>
Average Pitch Degrees at zero: 0.06 degrees<br>
Conversion factor: (0-(-90))/(0.06-(-86.23))= 1.043<br>
Average Roll Degrees in negative direction: -87.66 degrees<br>
Average Roll Degrees at zero: 0.06 degrees: 0.49 degrees<br>
Conversion factor: (0-(-90))/(0.49-(-87.66))= 1.021<br>
Average Conversion Factor: (1.021+1.043)/2 = 1.032<br>
Therefore, I think my accelerometer is relatively accurate with a 3.2% error.<br>
</p>







    <h2> Gyroscope</h2>
    <h2> Sample Data</h2>
    <h2> Record a Stunt </h2>
    <a href="https://youtu.be/iNH_kK5zv_E?si=h0ATEQUmRzyzoR_J" target="_blank">
  Watch the video of RC car exploring its first steps as A RC CAR in Philips hallway</a>
    <h2> Reference </h2>

    











<div class="code-block">
  <div class="code-header">File: main.ino</div>
  <pre><code>...</code></pre>
</div>

<p>
    $\tau = RC = frac{1}{2pif_c} = 0.0637$
  $\alpha = frac{dt}{tau + dt} = 0.4896 $
</p>

<p></p>

  </div>   
</body>
</html>
